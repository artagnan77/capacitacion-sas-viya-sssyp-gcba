[
["index.html", "Capacitacion SAS Viya GCBA SSSYP Prefacio", " Capacitacion SAS Viya GCBA SSSYP Sergio Lemme Colaboradores: Ervin Wilneder &amp; Pablo Sanroman 2019-08-15 Prefacio Curso dirigido a los empleados del Gobierno de la Ciudad de Buenos Aires, que quieran utilizar la plataforma de BI “SAS Viya” y/o acceder a la información disponible en el Datawarehouse, ambos gestionados por la Subsecretaría de Sistemas y Procesos, Dirección General de Administración de Bases de Datos e Ingeniería de Proyectos. Manual en desarrollo "],
["introduccion-a-la-plataforma.html", "Capítulo 1 Introducción a la plataforma", " Capítulo 1 Introducción a la plataforma Luego de acceder a la plataforma, y habiendo realizado las configuraciones iniciales (sólo la primera vez que se accede), nos encontraremos inmediatamente con el aplicativo SAS DRIVE https://sas-viya.buenosaires.gob.ar/SASDrive/. Éste es, en esencia, un administrador de reportes y otros archivos como imágenes, que cuenta fundamentalmente con tres espacios o directorios a considerar. En primer lugar, tenemos My Folder (Mi Carpeta), la cual es de uso personal y todo reporte o información que se aloje allí será exclusivamente de acceso y administración del usuario propietario. Se recomienda el uso de la misma para proyectos en los que no sea necesario compartir la información con el resto del equipo de trabajo u otros usuarios. Para ello, es decir, si se quisiera compartir la información con el equipo de trabajo, se encuentra disponible, dentro del directorio /SELF-SERVICE (alojada en la carpeta raíz SAS Content), al menos un directorio -dependiendo de la cantidad de equipos en los que uno participe- que se denominará, usualmente, en función del nombre del organismo dentro del cual desempeña las tareas el equipo o bien un nombre que haga mención a la actividad o proyecto de dicho equipo de trabajo. Figure 1.1: SAS DRIVE - /SELF-SERVICE Esta carpeta -que llamamos ESPACIO DE TRABAJO DEL EQUIPO o ESPACIO DE SELFSERVICE- es de suma importancia para los usuarios, ya que la misma y todo su contenido es administrado de manera independiente por sus miembros (los miembros administradores). Es decir, los integrantes del equipo, a los cuales se les haya otorgado los permisos de administración sobre el espacio de selfservice, podrán construir jerarquías de directorios, guardar reportes u otros archivos, así como también elinarlos o hacer todos los cambios que precisen. Cabe mencionar, que de la misma manera que existe el rol de usuario administrador, sobre el espacio de selfservice también pueden asignarse roles de usuarios que únicamente puedan consultar reportes. De allí entonces la necesidad de establecer una estructura de carpetas, aunque por supuesto, cada equipo de trabajo presentará necesidades y metodologías de trabajo diferentes que pueden o no precisar de la misma, pero es importante recalcarlo con el objetivo de entender que este espacio de selfservice es totalmente autoadministrable, transpearente y escalable por sus usuarios. En último lugar, nos encontraremos con el directorio /SSSYP, que se corresponde con el lugar donde se alojan todos los reportes “productivos”, es decir, aquellos que son desarrollados por el área de Business Intelligence y a los cuales los usuarios sólo podrán consultar (no modificar) bajo previa solicitud. Más adelante, contaremos un catálogo de reportes productivos a disposición en la raíz del directorio SSSYP (consultar). Teniendo en cuenta los tres anteriores “espacios de trabajo” mencionados, cabe destacar que si uno o más reportes son utilizados con frecuencia pueden disponibilizarse en la sección de “Acceso rápido” o en “Mis Favoritos”, de manera similar a cómo trabajan otros administradores de archivos. Figure 1.2: SAS DRIVE - Sección de Acceso Rápido Otra posibilidad para acceder a estos reportes de acceso frecuente es visualizarlos de manera directa a través del aplicativo SAS REPORT VIEWER https://sas-viya.buenosaires.gob.ar/SASReportViewer/, donde se disponibiliza el historial de uso. Figure 1.3: SAS REPORT VIEWER Al mismo se puede acceder, por supuesto, a través de la url señalada anteriormente, pero también puede hacerse uso del panel lateral izquierdo, donde además de esta herramienta se encuentran otras que veremos más adelante. Figure 1.4: Menú lateral de Aplicativos SAS El nombre que recibe en dicho panel es “Ver Informes” y, como su nombre bien lo indica, el único objetivo de este aplicativo es justamente tener de manera rápida la posibilidad de acceder a los reportes, no sólo al historial -que mencionamos arriba- sino también al resto, que pueden encontrarse en los diferentes directorios disponibles (/SELF-SERVICE, /SSSSYP o My Folder). Para acceder a ellos, basta con hacer uso de la opción “Explorar Informes” que se encuentra en la parte superior derecha de la pantalla. Figure 1.5: SAS REPORT VIEWER - Explorador de Informes Haciendo click en dicha opción nos encontraremos con la estructura habitual, pero en formato compacto. Se puede navegar hasta el reporte que se precisa (o buscarlo en la barra superior de búsqueda) y hacer click sobre el botón “Abrir”.También se pueden realizar otras opciones como renombrar, eliminar o mover, o añadir como acceso directo, siempre por supuesto en relación a los permisos que se tenga para dicho espacio de trabajo. Figure 1.6: SAS REPORT VIEWER - Gestión de Informes Ahora bien, hemos estado hablando hasta aquí de gestión de reportes, pero imaginando que aún no tenemos acceso a ninguno y que no hemos creado nuestro primer reporte, es hora de llevar esta tarea adelante, para la cual necesitaremos de manera excluyente de alguna fuente de datos, esto es, algún archivo de datos (.xsls, .csv u otros) o tabla disponibilizada directamente desde la conexión al DataWarehouse (base de datos central del equipo de BI). Para comenzar con este punto, deberemos acceder al aplicativo SAS Data Explorer https://sas-viya.buenosaires.gob.ar/SASDataExplorer/, denominado como “Gestionar Datos” en el panel menú lateral. Ya en el Data Explorer, nos encontraremos con una pantalla dividida en dos secciones, de la cuales la primera (la de la izquiera) contará con tres pestañas o tabs. Estas son: “Disponibles”, “Fuentes de Datos” e “Importar”. Antes de comenzar, si ya tenemos conocimiento de que el área de BI ha dejado a nuestra disposición una tabla o tablón de datos, construido especialmente para nuestro análisis o exploración de datos, entonces recurriremos rápidamente a la sección de Disponibles, haciendo uso de la barra de búsqueda a través del nombre o porción del nombre de nuestra tabla. Figure 1.7: SAS DATA EXPLORER Se destada que, posicionándose sobre la misma, pueden verse, a modo de vista previa, ya algunos datos referentes a nombres de columnas o incluso a una porción de los datos mismos. Esto nos permitirá saber, de manera anticipada, si la fuente de datos con la que queremos trabajar es adecuada o cuenta con la información correcta para nuestra análisis. Figure 1.8: SAS DATA EXPLORER - Información de una tabla Figure 1.9: SAS DATA EXPLORER - Muestra de datos En caso de no contar con ello, entendiendo que haremos un primer uso de la plataforma con datos propios, entonces accederemos a la sección de Importar. Allí hay diferentes opciones, de la cuales mencionaremos fundamentalmente dos. La primera implica cargar un archivo que se encuentra en nuestro equipo local (nuestra computadora) y la segunda, cargar la información desde una “Google Sheet”. Esta última se realiza a través de la opción de “Redes Sociales”. Figure 1.10: SAS DATA EXPLORER - Carga de Archivo Local Figure 1.11: SAS DATA EXPLORER - Acceso a Google Drive Tanto en una opción como en otra, llegaremos al mismo punto: deberemos decidir dónde alojar la información que estamos subiendo a SAS, y para ello tenemos que volver a recurrir a una estructura similar a la vista para la gestión de reportes pero en este caso exclusiva de tablas -fuentes de datos-. ¿Cómo sería esto?. Para entenderlo mejor, nos dirigiremos a la sección Fuentes de Datos. En el primer nivel, nos toparemos con la opción de elegir entre “cas-shared-CASdesa” o “cas-shared-default”, cada uno de ellos responde con la consigna de elegir entre un servidor de desarrollo o productivo. Los usuarios de selfservice siempre trabajarán en productivo, por lo cual, la opción a elegir es siempre “cas-shared-default”. Figure 1.12: SAS DATA EXPLORER - Elección del Servidor Ingresando a aquel, aquí sí nos encontraremos con la estructura que mencionábamos anterioremente. Es decir, contamos un espacio de uso personal, uno de uso para el equipo y uno “productivo”. A los própositos de esta introducción, haremos única mención del espacio de trabajo del equipo de selfservice, que será una “CASLIB SELFSERVICE”,término que responde a la nomenclatura utilizada por la plataforma. Ésta es básicamente un directorio sobre el cual sólo se pueden almacenar archivos que sean fuentes de datos (excel, csv, información de google sheets, etc.). La imagen también brinda una breve descripción de la misma, dado que consideramos de suma importancia su entendiemiento y uso. Toda información que se halle allí tendrá la posibilidad de ser consultado por cualquier miembro del equipo, sin necesidad de previamente configurar permisos de acceso (como sí lo es el caso de la información que provenga de la conexión al DataWarehouse) Figure 1.13: SAS DATA EXPLORER - CASLIB SELFSERVICE Ahora sí, teniendo a mano lo anterioremente explicado, es que podemos subir la info que elijamos, tanto desde nuestra computadora como desde un google sheets, siempre teniendo en cuenta que la misma debe preferentemente guardarse en esta “caslib”. Finalmente, con la fuente de datos a disposición, podremos de una vez comenzar con la elaboración de nuestro reporte, haciendo click derecho sobre la misma y elegiendo dentro de las acciones la opción de “Explorar y Visualizar Datos”. Figure 1.14: SAS DATA EXPLORER - Acciones sobre una fuente de datos Terminado así, si han prestado atención, habrán visto a lo largo de esta introducción, con ayuda de las imágenes, que la posibilidad de crear un reporte se presenta tanto desde la interfaz del aplicativo SAS DRIVE como también en SAS REPORT VIEWER, y esto es así, ciertamente. No hay una sóla manera de comenzar la contrucción de nuestra análisis y el camino aquí presentado es sólo uno de esas maneras, quizás la más recomendable, dada la necesidad de entender y disponibilizar en primera medida de nuestra fuentes de datos para poder trabajar. Pero, una vez que ustedes como usuarios se familiaricen con el uso de la plataforma, sepan que es posible tomar cualquier camino para ir de los datos a las decisiones. "],
["subir-nuestros-datos-a-sas-viya.html", "Capítulo 2 Subir nuestros datos a SAS Viya 2.1 Subir un archivo excel 2.2 Subir un archivo csv", " Capítulo 2 Subir nuestros datos a SAS Viya La plataforma de BI nos permite acceder a una base de datos integrada de muchas y variadas fuentes de datos. Los datos se encuentran integrados en un solo modelo de datos, lo que permite la explotación integral de la información. Una de las fuentes principales del Datawarehouse que mantenemos en la Subsecretaria es la base de datos del ecosistema SADE. Un usuario de self-service podrá acceder a las tablas que este autorizado en función de su sector/rol dentro de la organización. Pero a veces el usuario necesita trabajar con otro set de datos, proveniente de otro sector o descargado desde otra aplicación. En estos casos puede subir su propio set de datos, dede un archivo CSV o una planilla excel y luego no sólo trabajar con estos datos sino también en caso de aplicar, combinarlos con tablas ya disponibles en la plataforma. 2.1 Subir un archivo excel Lo primero que debemos hacer antes de subir una planilla excel es verificar que sea lo más limpia posible para evitar errores, la planilla debe contener los datos en forma de tabla, con sus columnas y registros, sin filas vacías y con el menor formato posible. Vamos a trabajar con el archivo “curso_bi_gcba_expedientes.xlsx”. El archivo elegido en nuestro caso contiene una tabla con 3 columnas: EXPEDIENTE_CALC CODIGO_EXTRACTO ESTADO_EXP Figure 1.1: Archivo excel a subir Podría tratarse de un archivo provisto por otro sector requiriendo cierta información adicional para los expedientes incluídos en el mismo. O bien una lista de expedientes que necesitamos cotejar versus los datos de la base de Expediente Electrónico de SADE. 2.1.1 Nuestra propia tabla CAS Los pasos a seguir para construir nuestra propia tabla CAS a partir del archivo serían los siguientes: Vamos a la sección “Gestionar Datos” Hacemos click en el “Menú de Aplicaciones”: Figure 1.2: Menu de aplicaciones Elegimos la opción “Gestionar Datos”: Figure 1.3: Opción del menú Gestionar Datos En esta sección podemos ver todas las tablas CAS disponibles que tenemos. Para subir nuesro archivo y construir nuestra propia tabla CAS debemos hacer click en Importar: Figure 1.4: Importar Seleccionamos “Archivo local”: Figure 1.5: Subir archivo local Ahora se nos abrirá el “wizard” de windows para que naveguemos por nuestras carpetas y seleccionemos el archivo. Una vez seleccionado, le damos click al botón “Abrir” y se abrirá la siguiente pantalla para ultimar los detalles de nuestra importación: Figure 1.6: Configurar Por último hacemos click en “Importar elemento”. Si todo esta bien, el sistema arrojará un mensaje indicando que el proceso terminó correctamente. Asimismo, si ahora vamos a ver las tablas disponibles, deberíamos encontrar nuestra tabla cargada. 2.2 Subir un archivo csv Google nos dirá: “Los archivos CSV son un tipo de documento en formato abierto sencillo para representar datos en forma de tabla, en las que las columnas se separan por comas y las filas por saltos de línea.” Si navegamos por “BA Data” https://data.buenosaires.gob.ar/ u otro sitio de intercambio de información, encontraremos que los set de datos disponibles en general se presentan en este formato. Seguramente tengamos menos problemas al operar con archivos de este tipo. 2.2.1 Pasos para subir un archivo CSV Vamos a trabajar con el archivo “curso_bi_gcba_exp_domi.csv”. Repetimos todos los pasos que vimos al subir un excel hasta el punto 5. La pantalla a la que llegamos en este caso, presenta algunas opciones que debemos considerar, dependiendo de como este armardo nuestro archivo CSV. Delimitador En nuestro archivo de ejemplo, el delimitador de columnas es “;”, por lo tanto debemos modificar el valor por defecto “;”: Figure 1.7: Subir CSV Figure 1.8: Configuraciones CSV También podemos indicar si la primera fila contiene o no los nombres de las columnas. Una vez configuradas todas las opciones en base al archivo que vamos a subir, hacemos click en “Importar elemento”. Y si todo salió bien, llegamos al final del proceso, con un mensaje que indica que todo salió bien: 2.2.2 Posibles errores Si obtenemos un error feo, como el siguiente: Figure 1.10: Error de encoding Tenemos un problema de encoding en el archivo, esto pasa cuando el archivo se guardo con un juego de caracteres diferente al que le indicamos a SAS al momento de subir el archivo. Un formato muy común y el que vamos a usar es “UTF-8” este cambio lo podemos hacer desde un editor de texto, como “Notepad++” Figure 1.11: Modificar encoding "],
["union-de-fuentes-de-datos.html", "Capítulo 3 Union de fuentes de datos 3.1 Cómo hacer una union de tablas 3.2 Guardar reporte 3.3 Nueva unión de datos", " Capítulo 3 Union de fuentes de datos Hay muchos supuestos o situaciones en los que podemos necesitar hacer una combinación de diferentes fuentes de datos. Incluso cuando hablamos de Datawarehouse o BI, siempre en algún momento haremos referencia a integrar diferents fuentes de datos. En este capítulo, haciendo uso de las tablas que subimos en el capítulo anterior, vamos a practicar los famosos “JOINS” o uniones de datos. En general vamos a tener la mayoría de las tablas que necesitamos disponibles en el Datawarehouse, ya que esta tarea de hacer las “uniones” nos viene ya resuelta por el equipo de BI. Pero no siempre es así. Supongamos que un sector nos pasa un listado de expedientes con algún problema o situación particular y necesitamos obtener más datos asociados a ese listado de expedientes o bien combinar este listado con datos actualizados de SADE, que sabemos que tenemos disponible en la plataforma. Supongamos que ese listado fue el primer excel que subimos en el capítulo anterior: “CURSO_BI_GCBA_EXPEDIENTES” 3.1 Cómo hacer una union de tablas Una forma de hacer una unión de fuentes de datos en SAS Viya es dentro de un reporte. Esta es la opción que veremos en esta práctica. Iniciamos un nuevo reporte usando la opción del menú: “Explorar y visualizar datos” Figure 1.1: Explorar y visualizar datos Figure 1.2: Nuevo reporte Desde el panel de datos, hacemos click en “Seleccione para añadir fuente de datos”. Otra opción es hacer click en el icono de la derecha, “Acciones” y seleccionar “Añadir fuente de datos” En la siguiente ventana “Abrir fuente de datos” buscamos nuestra tabla, para ello basta con escribir las primeras letras para filtrar el listado de tablas disponibles hasta que podamos encontrar la tabla deseada: Figure 1.3: Selección de tabla Seleccionamos nuestra tabla, “CURSO_BI_GCBA_EXPEDIENTES” y presionamos “Aceptar” Volvemos al icono que nos abre las opciones de datos y elegimos en este caso “Nueva unión de fuentes de datos…” Figure 1.4: Nueva unión de fuentes de datos En la siguiene pantalla, debemos: Elegir la segunda tabla en “Fuente de datos 2” En este caso vamos a elegir la segunda tabla que subimos en el capítulo anterior que contiene datos de domicilios asociados a los expedientes. Asignar un nombre a la tabla resultado que crearemos con la unión Figure 1.5: Segunda tabla Elegir el tipo de unión Figure 1.6: Tipo de unión En este caso elegiremos la opción “Union izquierda” ya que no queremos perder datos de la tabla 1, que es la que debemos analizar, es la tabla que nos pasó el usuario para verificar. Explicar las diferencias de los distintos tipos de unión Seleccionar las columnas que deseamos incluir en la unión Figure 1.7: Selección de columnas Si todo salió bien, deberíamos ver nuestra tabla resultado en la lista de fuentes de datos del reporte. 3.2 Guardar reporte Siempre es sano a medida que avanzamos ir guardando los cambios. Guardamos el reporte en nuestra carpeta personal “MyFolder”. Figure 1.8: Guardar reporte 3.3 Nueva unión de datos Para reforzar este punto y además sumar otras columas a nuestra tabla, vamos a realizar una nueva unión, utilizando como segunda fuente de datos la tabla “DIM_EXPEDIENTE_ELECTRONICO”. Esta tabla tiene todos los expedientes de SADE y datos principales asociados a los mismos, como ser el estado actualizado, la fecha de caratulación, el usuario, la repartición, etc. Como mínimo seleccionamos estas columnas para la práctica: Figure 1.9: Selección de columnas Y por último, nuevamente elegimos “Unión izquierda”, porque queremos mantener todos los registros de la primera tabla. Explicar más este punto Figure 1.10: Left Join Para esta nueva unión usaremos el nombre CURSO_BI_EXPEDIENTES Si todo salió bien deberíamos ver agregada la nueva fuente de datos al reporte. Genial, explotaremos esta tabla en los capítulos siguientes! "],
["practica-reportes-1.html", "Capítulo 4 Práctica Reportes 1 4.1 Objeto “Tabla de lista” 4.2 Filtros fijos sobre el objeto 4.3 Filtros sobre la fuente de datos 4.4 Filtros dinámicos 4.5 Ejercicio de ejemplo con comparación de datos 4.6 Acciones automáticas en todos los objetos 4.7 Contenedores", " Capítulo 4 Práctica Reportes 1 Ahora usando la tabla resultante del capítulo anterior, vamos a diseñar nuestro primer reporte. El objetivo de este capítulo es aprender a realizar un reporte sencillo, para visualizar los datos de la tabla y agregar filtros, tanto fijos como dinámicos. 4.1 Objeto “Tabla de lista” En el panel de objetos a nuestra izquiera, vamos a seleccionar Tablas –&gt; Tabla de lista y arrastramos hacia el area de trabajo de la Página 1. Figure 1.1: Tabla de lista Tenemos dos formas de agregar columnas en la tabla: Desde el panel general de datos, seleccionando los elementos y arrastrándolos hasta posicionarlos sobre la tabla, Teniendo seleccionada la tabla, desde el panel “Roles de datos”, eligiendo la opción “Columnas”, “Añadir” Nótese que hay un asterisco rojo que acompaña la sección “Columnas” eso indica que es obligatorio agregar al menos una columna para que el objeto, en este caso la tabla, se pueda construir. Seleccionamos las columnas que deseamos visualizar en la tabla y hacemos click en “Aceptar” Figure 1.3: Añadir columnas Si todo salió bien, deberíamos poder visualizar ahora la tabla con los datos que elegimos. Es importante aclarar que el objeto “tabla de lista” tiene un límite de registros que se pueden visualizar, en general ese límite es de 40.000 filas. 4.2 Filtros fijos sobre el objeto Todos los objetos aceptan este tipo de filtros. Supongamos que queremos visualizar todos los expedientes cuyo “ESTADO_EXP” -estado actualizado del expediente- sea distinto a “Guarda Temporal”: Siempre manteniendo el objeto seleccionado, en este caso nuestra tabla, seleccionamos la sección “filtros” del panel de la derecha: Figure 1.4: Filtros sobre objeto Hacemos click en “Nuevo filtro” Seleccionamos el elemento de datos sobre el que queremos aplicar el filtro, en nuestro caso “ESTADO_EXP”. Destildamos los valores a descartar, “Guarda Temporal” y cualquier otro estado que queramos descartar. 4.3 Filtros sobre la fuente de datos Si queremos aplicar un filtro que afecte a todo el reporte, conviene utilizar esta opción. Por ejemplo si quisieramos descartar en todo el reporte los expedientes en “ARCHIVO TEMPORAL”. Vamos al panel de datos de la izquierda y seleccionamos la opción “Aplicar filtro a la fuente de datos…” Figure 1.5: Filtros sobre fuentes de datos Llegamos a una pantalla un poco más avanzada para la construcción de filtros. Buscamos el elemento de datos sobre el que vamos a aplicar el filtro, en nuestro caso nuevamente “ESTADO_EXP” Arrastramos el elemento hacia el panel y lo soltamos en el cuadro “condición” Ahora subimos y elegimos la solapa de “Operadores” Elegimos dentro del grupo “Comparación” el operador distinto “&lt;&gt;” En “cadena” escribimos el valor que queremos descartar, por ejemplo “ARCHIVO TEMPORAL” Por último hacemos click en “ACEPTAR” Si todo funcionó como esperábamos la tabla no nos debería estar mostrando los registros correspondientes a expedientes en ESTADO_EXP = “ARCHIVO TEMPORAL” 4.4 Filtros dinámicos Ahora vamos a sumar al reporte algunos controles simples para interactuar con la tabla en forma de filtros. El filtro más comun que existe en todo tablero o reporte es el filtro de fechas y si no lo encontramos como filtro, seguramente tendremos algún gráfico que muestre una evolución temporal de alguna métrica. 4.4.1 Barra deslizante o slider Supongamos en nuestro caso que queremos agregar un filtro dinámico utilizando la fecha de creación (fecha de caratulación del expediente): * Vamos al panel de objetos y buscamos dentro del grupo “Controles” la “Barra deslizante”. Este control es muy útil para usar en fechas. * Arrastramos el objeto al area de trabajo intentando que nos quede arriba de la tabla. * En el panel de roles de datos, seleccionamos “FECHA DE CREACIÓN” * Por último, para que el control actúe como filtro sobre la tabla, manteniendo seleccionado el objeto, vamos a la sección “Acciones” del panel de la derecha. * Elegimos la tabla de lista, dentro de “Enlaces de objeto” Figure 1.6: Barra deslizante Ahora, si modificamos los valores de la barra deslizante, la tabla se debería actualizar, filtrando los datos en base al rango de fechas establecido. 4.4.2 Lista o lista desplegale Supongamos ahora que queremos incluir un filtro para seleccionar una o varias tratas. Para ello podemos usar los controles “lista” o “lista desplegable”. El primero nos permitirá elegir varios valores, la lista desplegable en cambio, sólo uno. Nuevamente nos dirigimos al panel de objetos, y dentro del grupo de “Controles” seleccionamos y arrastramos hacia el reporte, el control deseado, en nuestro caso elegimos “Lista”, ya que queremos poder seleccionar varias tratas. Tratamos de ubicar el objeto a la izquierda de nuestra tabla: Figure 1.7: Listas En el panel de roles de datos, seleccionamos “CODIGO_EXTRACTO” Luego, no debemos olvidar generar “la interacción” desde la sección “Acciones” del panel de la derecha al igual que el filtro anterior. Ahora, si elegimos alguna trata, deberíamos ver como se actualiza la tabla. 4.5 Ejercicio de ejemplo con comparación de datos Si llegamos con el tiempo, podemos hacer un ejercicio para visualizar diferencias entre “ESTADO” y “ESTADO_EXP” 4.6 Acciones automáticas en todos los objetos Lo veremos en otro capítulo 4.7 Contenedores Lo veremos en otro capítulo "],
["practica-reportes-2.html", "Capítulo 5 Práctica Reportes 2 5.1 Categorías vs. Medidas 5.2 Configuración inicial de los elementos de datos 5.3 Elementos calculados 5.4 Gráfico “Valor Clave” 5.5 Gráfico de Torta 5.6 Gráfico de barras 5.7 Controles de filtros 5.8 Acciones, hacer interactuar gráficos y filtros entre sí", " Capítulo 5 Práctica Reportes 2 Ahora vamos a construir un segundo reporte con algnos gráficos, elementos calculados y controles de filtros básicos. Siempre tratando de priorizar los conocimientos más útiles pensando en reportes sencillos para visualizar y controlar datos. Iniciamos un nuevo reporte y seleccionamos en este caso la tabla CURSO_BI_GCBA_PLANES_PSOC que tenemos disponible en la librería Public. Cada registro de esta tabla representa un beneficio. Cada beneficio corresponde a una persona, esta persona es el beneficiario y en la tabla tenemos tipo y numero de documento como datos identificatorios del mismo. Nota importante: La tabla CURSO_BI_GCBA_PLANES_PSOC esta basada en el modelo de datos de PSOC pero no refrleja en ningun caso datos reales. 5.1 Categorías vs. Medidas Los elementos de datos de nuestras tablas son clasificados como categorías o medidas, como podemos ver en la lista de elementos de nuestra fuente de datos. Medidas: Una medida es todo aquello que tiene sentido sumar, promediar u operar con alguna función matemática o estadística. Estan asociadas a las métricas que podemos obtener o indicadores a calcular. Sirven para responder las preguntas referidas a cantidades o importes. Por ejemplo: las ventas totales, los costos, los pagos. En nuestro ámbito, el monto asociado a los pagos, la cantidad de integrantes en un hogar, el tiempo de demora en la resolución de un trámite. Categorías: Estos datos estan asociados a las dimensiones, entidades o características que nos permiten identificar con quién, cuándo o dónde se genera una operación o transacción. Por ejemplo el número de documento, el código de trata, una repartición o usuario. 5.2 Configuración inicial de los elementos de datos Al añadir una fuenta de datos al reporte, SAS interpreta de forma predeterminada todos los datos numéricos como medidas. Por el comportamiento predeterminado, SAS nos tomará también como medidas la edad de una persona, el ID interno de una tabla (ID_EXPEDIENTE, ID_BENEFICIO), el año caratulación, etc. Por lo tanto una vez añadida la fuenta de datos al reporte, debemos seleccionar las categorías que fueron interpretadas como medidas y, elemento por elemmento, convertirlos a categoria: Figure 1.2: Medida2Categoria Una vez hecho esto para el ID_BENEFICIO y el NUMERO_DOCUMENTO sólamente nos quedará una única medida en la lista de elementos de datos, la frecuencia. La frecuencia es una medida que tendremos siempre disponible y nos servirá para contabilizar los registros de nuestro set de datos. En este caso, la frecuencia total de la tabla debería coincidir entonces con la cantidad de valores distintos de ID_BENEFICIO, dado que como comentamos anteriormente cada registro de la tabla representaba un beneficio. Para verificar lo anterior podemos construir nuestra propia medida para contabilizar beneficios. 5.3 Elementos calculados 5.3.1 Uso de DISTINCT En la pantalla de edición del nuevo elemento calculado: Seleccionamos la sección “Operadores”. Seleccionamos el apartado “Agregado (simple)”. Elegimos “DISTINCT” y arrastramos hacia el área de construcción del elemento calculado: Figure 1.3: DISTINCT Luego hacemos click en la sección “Elementos de Datos”, seleccionamos el “ID_BENEFICIO” y lo llevamos como argumento a la función “DISTINCT”. El elemento calculado debe quedar como en la siguiente imagen: Figure 1.4: DISTINCT Una vez guardado, si vamos a la lista de elementos de datos, veremos que se agregó en la lista de elementos de datos, la medida “Total Beneficios”, como medida de agregación: Figure 1.5: Medida de agregación Si quisieramos ahora tener un elemento calculado para contabilizar beneficiarios, deberíamos hacer lo mismo, pero en este caso usando el ID de cada persona, en este caso como no tenemos un ID de persona o beneficiario, debemos utilizar el número de documento. Para ser precisos deberíamos considerar como ID el tipo y numero de documento, lo cual nos invita a utilizar otra función básica que será de utilidad para crear elementos calculados basados en la concatenación de dos o más columnas. 5.3.2 Concatenar cadenas de caracteres Nuevo elemento calculado Seleccionamos “Operadores” Elegimos la función “Concatenate” del grupo de funciones de “Texto (simple)” Esta función acepta dos argumentos, que son las cadenas de caracteres a concatenar. Figure 1.6: DISTINCT En nuestro caso aunque podríamos concatenar directamente el tipo y número de documento, como preferimos un guión en el medio, vamos a usar dos funciones “Concatenate” anidades en el mismo elemento calculado: Figure 1.7: DISTINCT Nótese que fue necesario usar una función de conversión que nos permita incluir el Nro. de Documento que es numérico. La función “Format” la encontramos dentro del grupo de funciones de “Texto (simple)” El código generado para este elemento calculado es el siguiente. En modo texto podemos copiar y pegar para construirlo Concatenate(Concatenate(&#39;TIPO_DOCUMENTO&#39;n, &#39;-&#39;), Format( &#39;NUMERO_DOCUMENTO&#39;n[Raw], &#39;BEST10.&#39;)) Por último así como construimos “Total Beneficios”, podemos haciendo uso de “DISTINCT” construir un nuevo elemento calculado “Total Beneficiarios” aplicando la función “DISTINCT” sobre el elemento que creamos en el punto anterior “Tipo y Nro. de Documento” 5.4 Gráfico “Valor Clave” Ahora veremos los distintos totales usando el grafico “Valor Clave” Vamos al panel de objetos y dentro del grupo “Gráficos” elegimos “Valor Clave”, Arrastramos el objeto al area de edición En roles de datos le asignamos como Medida, la Frecuencia. En el panel de opciones, bajamos hasta la configuración específica del gráfico “Valor clave” y elegimos el estilo “Infografía” Seguimos en el mismo panel de opciones y en la parte inferior, destildamos la opción “Usar valor abreviado”. Figure 1.9: DISTINCT Figure 1.10: DISTINCT Lo que vemos en este valor clave es la cantidad total de registros en la tabla. Ahora vamos a las opciones del gráfico, haciendo click en los “3 puntitos” que se encuentran en la esquina superior derecha del gráfico. Elegimos duplicar y cambiamos la medida, reemplazando la frecuencia por “Total Beneficios” Como vemos, la cantidad de beneficios coincide con la cantidad de registros de la tabla. Hacemos lo mismo y generemos otro gráfico de valor clave, tomando como medida en este caso el “Total Beneficiarios” Figure 1.11: DISTINCT 5.5 Gráfico de Torta Haciendo click en el “+” a la derecha del título de la pagina “Pagina 1”, creamos una nueva página. En el panel de objetos, en la sección de gráficos, seleccionamos “Diagrama de tarta” Arrastramos al area de trabajo En el panel de “Roles de datos” elegimos la categoría “Plan” Vemos que por default nos toma como medida la frecuencia, la cambiamos por “Total Beneficios” Duplicamos el gráfico y seleccionamos como medida, “Total Beneficiarios” Figure 1.12: DISTINCT Borramos ahora el segundo gráfico. “Momento de jugar con las opciones que nos propone el panel de estilos del gráfico, buscando la mejor forma de mostrar la torta.” 5.6 Gráfico de barras En el panel de objetos, en la sección de gráficos, seleccionamos “Gráfico de barras” Arrastramos al area de trabajo, al lado del otro gráfico En el panel de “Roles de datos” elegimos la categoría “ESTADO_BENEFICIO” Modificamos Frecuencia por “Total Beneficios” 5.7 Controles de filtros En el panel de objetos, en la sección Controles, seleccionamos “Lista” Arrastramos al area de trabajo Asignamos en roles la categoría “USUARIO_ALTA_BENEFICIO” En el panel de objetos, en la sección Controles, seleccionamos “Barra deslizante” Arrastranis al area de trabajo En el panel de “Roles de datos” elegimos como medida/fecha, la “FECHA_ALTA_BENEFICIO_D” 5.8 Acciones, hacer interactuar gráficos y filtros entre sí En el panel de acciones, elegimos la opción “Acciones automáticas en todos los objetos” Probamos los filtros y la interacción entre los gráficos Figure 1.13: DISTINCT "],
["mapas.html", "Capítulo 6 Mapas", " Capítulo 6 Mapas Este capítulo esta en construcción, falta completar El objetivo de este capítulo es explicar paso a paso como crear una visualización de datos sobre mapas geográficos. Para esto haremos uso de tablas que ya estan precargadas en SAS Viya, y que reunen la información de los polígonos. Explicar un poco el tema proveedores de polígonos y los datos que debemos tener en nuestro set de datos Nuevo reporte, opción “Explorar y visualizar datos” Agregamos la tabla CAS al reporte: Figure 1.3: Añadir fuente de datos Generamos el elemento calculado “SECCION_MANZANA” Figure 1.4: Sección-Manzana Generamos el elemento calculado -elemento greográfico- “SECCION_MANZANA” Figure 1.5: Seción-Manzana-GEO Generamos el elemento calculado “SECCION_MANZANA_PARCELA” Figure 1.6: Sección-Manzana-Parcela Generamos el elemento calculado, -elemento greográfico- “SECCION_MANZANA_PARCELA_GEO” Figure 1.7: Sección-Manzana-Parcela-GEO Generamos la jerarquía Figure 1.8: Jerarquía GEO Seleccionamos el grafico “Mapa Geo” Asociamos la jerarquía creada como rol de datos del mapas Figure 1.9: Mapa 1 roles de datos Creamos otroa mapa y le asociamos el rol “ManzanaGEO” Figure 1.10: Mapa 2 roles de datos Generamos la interacción automática entre todos los objetos Figure 1.11: Acciones entre objetos "]
]
