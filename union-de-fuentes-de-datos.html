<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 3 Union de fuentes de datos | Capacitacion SAS Viya para GCBA</title>
  <meta name="description" content="Inicializado gracias a ‘seankross/bookdown-start’ Everything you need (and nothing more) to start a bookdown book." />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 3 Union de fuentes de datos | Capacitacion SAS Viya para GCBA" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Inicializado gracias a ‘seankross/bookdown-start’ Everything you need (and nothing more) to start a bookdown book." />
  <meta name="github-repo" content="artagnan77/capacitacion-sas-viya-gcba.git" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 3 Union de fuentes de datos | Capacitacion SAS Viya para GCBA" />
  
  <meta name="twitter:description" content="Inicializado gracias a ‘seankross/bookdown-start’ Everything you need (and nothing more) to start a bookdown book." />
  

<meta name="author" content="Sergio Lemme" />


<meta name="date" content="2019-08-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="subir-nuestros-datos-a-sas-viya.html">
<link rel="next" href="nuestro-primer-reporte.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Capacitacion SAS Viya para GCBA</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="subir-nuestros-datos-a-sas-viya.html"><a href="subir-nuestros-datos-a-sas-viya.html"><i class="fa fa-check"></i><b>2</b> Subir nuestros datos a SAS Viya</a><ul>
<li class="chapter" data-level="2.1" data-path="subir-nuestros-datos-a-sas-viya.html"><a href="subir-nuestros-datos-a-sas-viya.html#subir-un-archivo-excel"><i class="fa fa-check"></i><b>2.1</b> Subir un archivo excel</a><ul>
<li class="chapter" data-level="2.1.1" data-path="subir-nuestros-datos-a-sas-viya.html"><a href="subir-nuestros-datos-a-sas-viya.html#nuestra-propia-tabla-cas"><i class="fa fa-check"></i><b>2.1.1</b> Nuestra propia tabla CAS</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="subir-nuestros-datos-a-sas-viya.html"><a href="subir-nuestros-datos-a-sas-viya.html#subir-un-archivo-csv"><i class="fa fa-check"></i><b>2.2</b> Subir un archivo csv</a><ul>
<li class="chapter" data-level="2.2.1" data-path="subir-nuestros-datos-a-sas-viya.html"><a href="subir-nuestros-datos-a-sas-viya.html#pasos-para-subir-un-archivo-csv"><i class="fa fa-check"></i><b>2.2.1</b> Pasos para subir un archivo CSV</a></li>
<li class="chapter" data-level="2.2.2" data-path="subir-nuestros-datos-a-sas-viya.html"><a href="subir-nuestros-datos-a-sas-viya.html#posibles-errores"><i class="fa fa-check"></i><b>2.2.2</b> Posibles errores</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="union-de-fuentes-de-datos.html"><a href="union-de-fuentes-de-datos.html"><i class="fa fa-check"></i><b>3</b> Union de fuentes de datos</a><ul>
<li class="chapter" data-level="3.1" data-path="union-de-fuentes-de-datos.html"><a href="union-de-fuentes-de-datos.html#como-hacer-una-union-de-tablas"><i class="fa fa-check"></i><b>3.1</b> Cómo hacer una union de tablas</a></li>
<li class="chapter" data-level="3.2" data-path="union-de-fuentes-de-datos.html"><a href="union-de-fuentes-de-datos.html#guardar-reporte"><i class="fa fa-check"></i><b>3.2</b> Guardar reporte</a></li>
<li class="chapter" data-level="3.3" data-path="union-de-fuentes-de-datos.html"><a href="union-de-fuentes-de-datos.html#nueva-union-de-datos"><i class="fa fa-check"></i><b>3.3</b> Nueva union de datos</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="nuestro-primer-reporte.html"><a href="nuestro-primer-reporte.html"><i class="fa fa-check"></i><b>4</b> Nuestro primer reporte</a><ul>
<li class="chapter" data-level="4.1" data-path="nuestro-primer-reporte.html"><a href="nuestro-primer-reporte.html#objeto-tabla-de-lista"><i class="fa fa-check"></i><b>4.1</b> Objeto “Tabla de lista”</a></li>
<li class="chapter" data-level="4.2" data-path="nuestro-primer-reporte.html"><a href="nuestro-primer-reporte.html#filtros-fijos-sobre-el-objeto"><i class="fa fa-check"></i><b>4.2</b> Filtros fijos sobre el objeto</a></li>
<li class="chapter" data-level="4.3" data-path="nuestro-primer-reporte.html"><a href="nuestro-primer-reporte.html#filtros-sobre-la-fuente-de-datos"><i class="fa fa-check"></i><b>4.3</b> Filtros sobre la fuente de datos</a></li>
<li class="chapter" data-level="4.4" data-path="nuestro-primer-reporte.html"><a href="nuestro-primer-reporte.html#filtros-dinamicos"><i class="fa fa-check"></i><b>4.4</b> Filtros dinámicos</a><ul>
<li class="chapter" data-level="4.4.1" data-path="nuestro-primer-reporte.html"><a href="nuestro-primer-reporte.html#barra-deslizante-o-slider"><i class="fa fa-check"></i><b>4.4.1</b> Barra deslizante o slider</a></li>
<li class="chapter" data-level="4.4.2" data-path="nuestro-primer-reporte.html"><a href="nuestro-primer-reporte.html#lista-o-lista-desplegale"><i class="fa fa-check"></i><b>4.4.2</b> Lista o lista desplegale</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="nuestro-primer-reporte.html"><a href="nuestro-primer-reporte.html#ejercicio-de-ejemplo-con-comparacion-de-datos"><i class="fa fa-check"></i><b>4.5</b> Ejercicio de ejemplo con comparación de datos</a></li>
<li class="chapter" data-level="4.6" data-path="nuestro-primer-reporte.html"><a href="nuestro-primer-reporte.html#acciones-automaticas-en-todos-los-objetos"><i class="fa fa-check"></i><b>4.6</b> Acciones automáticas en todos los objetos</a></li>
<li class="chapter" data-level="4.7" data-path="nuestro-primer-reporte.html"><a href="nuestro-primer-reporte.html#contenedores"><i class="fa fa-check"></i><b>4.7</b> Contenedores</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="nuestro-segundo-reporte.html"><a href="nuestro-segundo-reporte.html"><i class="fa fa-check"></i><b>5</b> Nuestro segundo reporte</a><ul>
<li class="chapter" data-level="5.1" data-path="nuestro-segundo-reporte.html"><a href="nuestro-segundo-reporte.html#categorias-vs.-medidas"><i class="fa fa-check"></i><b>5.1</b> Categorías vs. Medidas</a></li>
<li class="chapter" data-level="5.2" data-path="nuestro-segundo-reporte.html"><a href="nuestro-segundo-reporte.html#configuracion-inicial-de-los-elementos-de-datos"><i class="fa fa-check"></i><b>5.2</b> Configuración inicial de los elementos de datos</a></li>
<li class="chapter" data-level="5.3" data-path="nuestro-segundo-reporte.html"><a href="nuestro-segundo-reporte.html#elementos-calculados"><i class="fa fa-check"></i><b>5.3</b> Elementos calculados</a><ul>
<li class="chapter" data-level="5.3.1" data-path="nuestro-segundo-reporte.html"><a href="nuestro-segundo-reporte.html#uso-de-distinct"><i class="fa fa-check"></i><b>5.3.1</b> Uso de DISTINCT</a></li>
<li class="chapter" data-level="5.3.2" data-path="nuestro-segundo-reporte.html"><a href="nuestro-segundo-reporte.html#concatenar-cadenas-de-caracteres"><i class="fa fa-check"></i><b>5.3.2</b> Concatenar cadenas de caracteres</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="nuestro-segundo-reporte.html"><a href="nuestro-segundo-reporte.html#grafico-de-barras"><i class="fa fa-check"></i><b>5.4</b> Gráfico de barras</a></li>
<li class="chapter" data-level="5.5" data-path="nuestro-segundo-reporte.html"><a href="nuestro-segundo-reporte.html#controles-de-filtros"><i class="fa fa-check"></i><b>5.5</b> Controles de filtros</a></li>
<li class="chapter" data-level="5.6" data-path="nuestro-segundo-reporte.html"><a href="nuestro-segundo-reporte.html#acciones-hacer-interactuar-graficos-y-filtros-entre-si"><i class="fa fa-check"></i><b>5.6</b> Acciones, hacer interactuar gráficos y filtros entre sí</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="mapas.html"><a href="mapas.html"><i class="fa fa-check"></i><b>6</b> Mapas</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Capacitacion SAS Viya para GCBA</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="union-de-fuentes-de-datos" class="section level1">
<h1><span class="header-section-number">Capítulo 3</span> Union de fuentes de datos</h1>
<p>Hay muchos supuestos o situaciones en los que podemos necesitar hacer una combinación de diferentes fuentes de datos. Incluso cuando hablamos de Datawarehouse o BI, siempre en algún momento haremos referencia a integrar diferents fuentes de datos.</p>
<p>En este capítulo, haciendo uso de las tablas que subimos en el capítulo anterior, vamos a practicar los famosos “JOINS” o uniones de datos.</p>
<p>En general vamos a tener la mayoría de las tablas que necesitamos disponibles en el Datawarehouse, ya que esta tarea de hacer las “uniones” nos viene ya resuelta por el equipo de BI.</p>
<p>Pero no siempre es así. Supongamos que un sector nos pasa un listado de expedientes con algun problema o situación particular y necesitamos obtener más datos asociados a ese listado de expedientes o bien combinar este listado con datos actualizados de SADE, que sabemos que tenemos disponible en la plataforma.</p>
<p>Supongamos que ese listado fue el primer excel que subimos en el capítulo anterior: “CURSO_BI_GCBA_EXPEDIENTES”</p>
<div id="como-hacer-una-union-de-tablas" class="section level2">
<h2><span class="header-section-number">3.1</span> Cómo hacer una union de tablas</h2>
<ul>
<li>Una forma de hacer una union de fuentes de datos en SAS Viya es dentro de un reporte. Esta es la opción que veremos en la práctica.</li>
</ul>
<ol style="list-style-type: decimal">
<li>Iniciamos un nuevo reporte usando la opción del menú: “Explorar y visualizar datos”</li>
</ol>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-1"></span>
<img src="../imagenes/cap3_union_1_nuevo_report.png" alt="Explorar y visualizar datos"  />
<p class="caption">
Figure 2.1: Explorar y visualizar datos
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-2"></span>
<img src="../imagenes/cap3_union_2.png" alt="Nuevo reporte"  />
<p class="caption">
Figure 2.2: Nuevo reporte
</p>
</div>
<ol start="2" style="list-style-type: decimal">
<li><p>Desde el panel de datos, hacemos click en “Seleccione para añadir fuente de datos”.
Otra opción es hacer click en el icono de la derecha, “Acciones” y seleccionar “Añadir fuente de datos”</p></li>
<li><p>En la siguiente ventana “Abrir fuente de datos” buscamos nuestra tabla, para ello basta con escribir las primeras letras para filtrar el listado de tablas disponibles hasta que podamos encontrar la tabla deseada:</p></li>
</ol>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-3"></span>
<img src="../imagenes/cap3_union_3.png" alt="Selección de tabla"  />
<p class="caption">
Figure 2.3: Selección de tabla
</p>
</div>
<ol start="4" style="list-style-type: decimal">
<li><p>Seleccionamos nuestra tabla, “CURSO_BI_GCBA_EXPEDIENTES” y presionamos “Aceptar”</p></li>
<li><p>Volvemos al icono que nos abre las opciones de datos y elegimos en este caso “Nueva union de fuentes de datos…”</p></li>
</ol>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-4"></span>
<img src="../imagenes/cap3_union_5bis.png" alt="Nueva union de fuentes de datos"  />
<p class="caption">
Figure 2.4: Nueva union de fuentes de datos
</p>
</div>
<ol start="6" style="list-style-type: decimal">
<li>En la siguiene pantalla, debemos:</li>
</ol>
<ul>
<li>Elegir la segunda tabla en “Fuente de datos 2”
En este caso vamos a elegir la segunda tabla que subimos en el capítulo anterior que contiene datos de domicilios asociados a los expedientes.</li>
<li>Asignar un nombre a la nueva tabla resultado</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-5"></span>
<img src="../imagenes/cap3_union_6.png" alt="Segunda tabla"  />
<p class="caption">
Figure 2.5: Segunda tabla
</p>
</div>
<ul>
<li>Elegir el tipo de union
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-6"></span>
<img src="../imagenes/cap3_union_8_tipo_union.png" alt="Tipo de union"  />
<p class="caption">
Figure 2.6: Tipo de union
</p>
</div>
En este caso elegiremos la opción “Union izquierda” ya que no queremos perder datos de la tabla 1, que es la que debemos analizar, es la tabla que nos pasó el usuario para verificar.</li>
</ul>
<p><Explicar las diferencias de los distintos tipos de union></p>
<ul>
<li>Seleccionar las columnas que deseamos incluir en la union
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-7"></span>
<img src="../imagenes/cap3_union_9_sel_columnas.png" alt="Selección de columnas"  />
<p class="caption">
Figure 2.7: Selección de columnas
</p>
</div></li>
</ul>
<p>Si todo salió bien, deberíamos ver nuestra tabla resultando en la lista de fuentes de datos del reporte.</p>
</div>
<div id="guardar-reporte" class="section level2">
<h2><span class="header-section-number">3.2</span> Guardar reporte</h2>
<p>Siempre es sano a medida que avanzamos ir guardando los cambios.
Guardamos el reporte en nuestra carpeta personal “MyFolder”</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-8"></span>
<img src="../imagenes/cap3_union_10_Guardar_Reporte.png" alt="Guardar reporte"  />
<p class="caption">
Figure 2.8: Guardar reporte
</p>
</div>
</div>
<div id="nueva-union-de-datos" class="section level2">
<h2><span class="header-section-number">3.3</span> Nueva union de datos</h2>
<p>Para reforza este punto y además sumar otras columas a nuestra tabla, vamos a realizar una nueva uniÓn, utilizando como segunda fuente de datos la tabla “DIM_EXPEDIENTE_ELECTRONICO”. Esta tabla tiene todos los expedientes de SADE y datos principales asociados a estos, como ser el estado actualizado, la fecha de caratulación, el usuario, la repartición, etc.</p>
<p>Como mínimo seleccionamos estas columnas para la práctica:</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-9"></span>
<img src="../imagenes/cap3_union_11_union_con_dim_sel_columns.png" alt="Selección de columnas"  />
<p class="caption">
Figure 2.9: Selección de columnas
</p>
</div>
<p>Y por último, nuevamente elegimos “Union izquierda”, porque queremos mantener todos los registros de la primera tabla.
<Explicar más este punto></p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-10"></span>
<img src="../imagenes/cap3_union_12_left_join.png" alt="Selección de columnas"  />
<p class="caption">
Figure 2.10: Selección de columnas
</p>
</div>
<p>Para esta nueva union usaremos el nombre “CURSO_BI_EXPEDIENTES”</p>
<p>Si todo salió bien deberíamos ver agregada la nueva fuente de datos al reporte.</p>
<p>Genial, explotaremos esta tabla en los capítulos siguientes!</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="subir-nuestros-datos-a-sas-viya.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="nuestro-primer-reporte.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
